---
layout: default
js:
  - /assets/vendor/knockout-latest.js
  - /assets/vendor/math.js
  - /assets/vendor/chart.umd.js
  - /assets/js/knockout.chart.js
  - /assets/js/turbos.js
  - /assets/js/util.js
  - /assets/js/units.js
  - /assets/js/main.js
---
<div class="container-fluid p-2 m-0 row h100">
    <div class="config-col p-2 col-xxl-8 col-xl-12">
        <div class="p-4 mb-3">
            <div class="mb-2 pb-2 border-bottom">
                <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#env-collapse">
                    Environment
                    <i class="caret bi bi-chevron-up fs-5"></i>
                </a>
                <div class="mb-2 pb-1 collapse show" id="env-collapse">
                    <div class="row">
                        <div class="col-4">
                            <labeltemp">Ambient Temperature:</label>
                            <span class="input-group input-group-sm" id="ambient-temp">
                                <input class="form-control form-control-sm" type="number" data-bind="value: ambientTempRaw" />
                                <select class="input-group-text btn-secondary" data-bind="value: ambientTempUnit, options: UNITS.temperature, optionsText: 'label', optionsValue: 'value'"></select>
                            </span>
                        </div>
                        <div class="col-4">
                            <label>Altitude:</label>
                            <span class="input-group input-group-sm" id="altitude">
                                <input type="number" class="form-control form-control-sm" data-bind="value: altitudeRaw" step="100" />
                                <select class="input-group-text btn-secondary" data-bind="value: altitudeUnit, options: UNITS.altitude, optionsText: 'label', optionsValue: 'value'"></select>
                            </span>
                        </div>
                        <div class="col-4">
                            <labelpressue">Ambient Pressure:</label>
                            <span class="input-group input-group-sm" id="ambient-pressue">
                                <input type="number" class="form-control form-control-sm" data-bind="converted: ambientPressure_Pa, from: 'Pa', to: ambientPressureDisplayUnit().value, precision: ambientPressureDisplayUnit().precision" readonly disabled />
                                <select class="input-group-text btn-secondary" data-bind="value: ambientPressureDisplayUnit, options: UNITS.pressure, optionsText: 'label'"></select>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-2 pb-2 border-bottom">
                <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#eng-collapse">
                    Engine Specs
                    <i class="caret bi bi-chevron-up fs-5"></i>
                </a>
                <div class="mb-2 pb-1 collapse show" id="eng-collapse">
                    <div class="row">
                        <div class="col-3">
                            <label>Displacement:</label>
                            <span class="input-group input-group-sm">
                                <input class="form-control form-control-sm" type="number" data-bind="value: engineDisplacementRaw" min="0.1" step="0.1">
                                <select class="input-group-text btn-secondary" data-bind="value: engineDisplacementUnit, options: UNITS.volume, optionsText: 'label', optionsValue: 'value'"></select>
                            </span>
                        </div>
                        <div class="col-3">
                            <label>Fuel:</label>
                            <select class="form-select form-select-sm" data-bind="value: fuelType, options: fuelTypeList, optionsText: 'name'"></select>
                        </div>
                        <div class="col-3">
                            <label># Cylinders:</label>
                            <input class="form-control form-control-sm" type="number" data-bind="value: numberOfCylinders" min="1" step="1">
                        </div>
                        <div class="col-3">
                            <label>Min. Injector Size:</label>
                            <span class="input-group input-group-sm">
                                <input class="form-control form-control-sm" type="number" data-bind="value: minInjectorSize" readonly disabled>
                                <input class="form-control form-control-sm" type="text" value="cc/min" readonly disabled />
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-2 pb-2 border-bottom">
                <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#turbo-collapse">
                    Turbocharger
                    <i class="caret bi bi-chevron-up fs-5"></i>
                </a>
                <div class="mb-2 pb-1 collapse show" id="turbo-collapse">
                    <div class="row">
                        <div class="col-6">
                            <label>Turbo:</label>
                            <select class="form-select form-select-sm" data-bind="value: turbo, options: turboList, optionsText: 'name'"></select>
                        </div>
                        <div class="col-3">
                            <label># Turbos:</label>
                            <input class="form-control form-control-sm" type="number" data-bind="value: numberOfTurbos" min="1" step="1">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3">
                            <label>Manufacturer:</label>
                            <input class="form-control form-control-sm" type="text" data-bind="value: turbo().manufacturer" readonly disabled>
                        </div>
                        <div class="col-6">
                            <label>Description:</label>
                            <input class="form-control form-control-sm" type="text" data-bind="value: turbo().description" readonly disabled>
                        </div>
                        <div class="col-3">
                            <label>Product Link</label>
                            <button class="btn btn-primary btn-sm d-inline-block w-100" data-bind="click: () => window.open(turbo().product_url), disable: !turbo().product_url">Open In New Tab</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-2 pb-2 border-bottom">
                <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#input-collapse">
                    Input Values
                    <i class="caret bi bi-chevron-up fs-5"></i>
                </a>
                <div class="mb-2 pb-1 collapse show" id="input-collapse">
                    <table class="table table-sm" id="boost-data-table">
                        <thead><tr>
                            <th class="table-title-col"></th>
                            <th class="table-unit-col"></th>
                            <!-- ko foreach: boostCurve -->
                            <th data-bind="text: '#' + ($index() + 1)"></th>
                            <!-- /ko -->
                        </tr></thead>
                        <tbody>
                            <tr>
                                <td class="table-title-col">Engine Speed</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="RPM" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: rpm" type="number" min="0" step="500" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Boost Pressure</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: inputBoostPressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: boost" type="number" min="0" step="1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Volumetric Efficiency</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ve" type="number" min="0" step="1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Intake Restriction</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: inputRestrictionPressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ir" type="number" min="0" step="0.1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Intercooler Efficiency</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ie" type="number" min="1" max="100" step="0.1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Intercooler Pressure Drop</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: inputIntercoolerPressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ipd" type="number" min="0" step="0.1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Compressor Efficiency</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ce" type="number" min="1" max="100" step="1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Turbine Efficiency</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: te" type="number" min="1" max="100" step="1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Exhaust Backpressure</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: inputBackpressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ebp" type="number" min="1" max="100" step="0.1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Air-to-Fuel Ratio</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="N:1" readonly disabled /></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: afr" type="number" min="0" step="0.1" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Turbine Expansion Ratio</td>
                                <td class="table-unit-col"><!-- <input class="form-control" type="text" value="N:1" readonly disabled /> --></td>
                                <!-- ko foreach: boostCurve -->
                                <td><input class="form-control form-control-sm" data-bind="value: ter" type="number" min="1" step="0.01" /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Wastegating Amount</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="numeric: wastegateFlowPercent, precision: 1, css: { 'is-invalid': wastegateFlowPercent < 0 }" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="mb-2 pb-2 border-bottom">
                <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#output-collapse">
                    Output Values
                    <i class="caret bi bi-chevron-up fs-5 flip"></i>
                </a>
                <div class="mb-2 pb-1 collapse" id="output-collapse">
                    <table class="table table-sm" id="boost-data-table">
                        <thead><tr>
                            <th></th>
                            <th></th>
                            <!-- ko foreach: compressorData -->
                            <th data-bind="text: '#' + ($index() + 1)"></th>
                            <!-- /ko -->
                        </tr></thead>
                        <tbody>
                            <tr>
                                <td class="table-title-col">Engine Speed</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="RPM" readonly disabled /></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="value: rpm" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Absolute Pressure</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultPressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compOutletPressure__Pa, from: 'Pa', to: $root.resultPressureUnit().value, precision: $root.resultPressureUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Pressure Ratio</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="N:1" readonly disabled /></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="numeric: compPressureRatio, precision: 2" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                            <tr>
                                <td class="table-title-col">Outlet Temperature</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirTemperatureUnit, options: UNITS.temperature, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compOutletTemp__K, from: 'K', to: $root.resultAirTemperatureUnit().value, precision: $root.resultAirTemperatureUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Manifold Air Density</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirDensityUnit, options: UNITS.density, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: manifoldAirDensity__lb_cuft, from: 'lb/ft^3', to: $root.resultAirDensityUnit().value, precision: $root.resultAirDensityUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Actual Air Mass Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirMassFlowUnit, options: UNITS.massFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compAirMassFlow__lb_min, from: 'lb/min', to: $root.resultAirMassFlowUnit().value, precision: $root.resultAirMassFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Air Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirVolFlowUnit, options: UNITS.volumetricFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compAirFlow__cfm, from: 'ft^3/min', to: $root.resultAirVolFlowUnit().value, precision: $root.resultAirVolFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Corrected Air Mass Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirMassFlowUnit, options: UNITS.massFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compAirMassFlowCorrected__lb_min, from: 'lb/min', to: $root.resultAirMassFlowUnit().value, precision: $root.resultAirMassFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Corrected Air Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultAirVolFlowUnit, options: UNITS.volumetricFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compAirFlowCorrected__cfm, from: 'ft^3/min', to: $root.resultAirVolFlowUnit().value, precision: $root.resultAirVolFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Fuel Mass Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultFuelMassFlowUnit, options: UNITS.massFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: fuelMassFlowRate__lb_min, from: 'lb/min', to: $root.resultFuelMassFlowUnit().value, precision: $root.resultFuelMassFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Fuel Volume Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultFuelVolFlowUnit, options: UNITS.volumetricFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: fuelVolFlowRate__L_hr, from: 'L/hr', to: $root.resultFuelVolFlowUnit().value, precision: $root.resultFuelVolFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Injector Volume Flow</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultFuelVolFlowUnit, options: UNITS.volumetricFlow, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: injectorVolFlowRate__L_hr, from: 'L/hr', to: $root.resultFuelVolFlowUnit().value, precision: $root.resultFuelVolFlowUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Turbo Shaft Power</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultPowerUnit, options: UNITS.power, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: compressorShaftPower__kW, from: 'kW', to: $root.resultPowerUnit().value, precision: $root.resultPowerUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Wastegating Amount</td>
                                <td class="table-unit-col"><input class="form-control form-control-sm" type="text" value="%" readonly disabled /></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="numeric: wastegateFlowPercent, precision: 1" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Exhaust Manifold Pressure</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultPressureUnit, options: UNITS.pressure, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: exhaustManifoldPressure_Pa, from: 'Pa', to: $root.resultPressureUnit().value, precision: $root.resultPressureUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Turbine Swallowing Parameter</td>
                                <td class="table-unit-col"></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="numeric: phi, precision: 3" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Estimated Power</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultPowerUnit, options: UNITS.power, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: approxPower__hp, from: 'hp', to: $root.resultPowerUnit().value, precision: $root.resultPowerUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <td class="table-title-col">Estimated Torque</td>
                                <td class="table-unit-col"><select class="form-select form-select-sm" data-bind="value: resultTorqueUnit, options: UNITS.torque, optionsText: 'label'"></select></td>
                                <!-- ko foreach: compressorData -->
                                <td><input class="form-control form-control-sm" data-bind="converted: approxTorque__ftlb, from: 'ft*lb', to: $root.resultTorqueUnit().value, precision: $root.resultTorqueUnit().precision" disabled readonly /></td>
                                <!-- /ko -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="graph-col p-2 col-xxl-4 col-xl-12">
        <div class="mb-2 pb-2 border-bottom">
            <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#comp-collapse">
                Compressor Map
                <i class="caret bi bi-chevron-up fs-5"></i>
            </a>
            <div class="my-2 pb-1 collapse show" id="comp-collapse">
                <div class="chart-holder">
                    <canvas class="chart-canvas" data-bind="chart: compressorChart"></canvas>
                </div>
            </div>
        </div>

        <div class="mb-2 pb-2 border-bottom">
            <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#flow-collapse">
                Exhaust Flow Chart
                <i class="caret bi bi-chevron-up fs-5"></i>
            </a>
            <div class="my-2 pb-1 collapse show" id="flow-collapse">
                <div class="chart-holder">
                    <canvas class="chart-canvas" data-bind="chart: exhaustFlowChart"></canvas>
                </div>
            </div>
        </div>

        <div class="mb-2 pb-2 border-bottom">
            <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#boost-collapse">
                Air Flow Curves
                <i class="caret bi bi-chevron-up fs-5"></i>
            </a>
            <div class="my-2 pb-1 collapse show" id="boost-collapse">
                <div class="chart-holder">
                    <canvas class="chart-canvas" data-bind="chart: boostCurveChart"></canvas>
                </div>
            </div>
        </div>

        <div class="mb-2 pb-2 border-bottom">
            <a class="h4 text-decoration-none clickable" data-bs-toggle="collapse" data-bs-target="#power-collapse">
                Estimated Power
                <i class="caret bi bi-chevron-up fs-5"></i>
            </a>
            <div class="my-2 pb-1 collapse show" id="power-collapse">
                <div class="chart-holder">
                    <canvas class="chart-canvas" data-bind="chart: powerCurveChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>
